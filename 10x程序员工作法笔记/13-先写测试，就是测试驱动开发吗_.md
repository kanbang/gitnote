# 13 | 先写测试，就是测试驱动开发吗?

## 笔记

**测试先行开发**: 先写测试, 后写代码.

### 测试驱动开发

![](./img/13_01.png)

* 红: 写了一个新的测试, 测试还没有通过的状态.
* 绿: 表示写了功能代码, 测试通过的状态.
* 重构: 完成基本功能之后, 调整代码的过程.

**测试先行开发和测试驱动开发的差异就在重构上**

有了测试, 可以大胆的地重构, 因为任何修改错误, 测试会替你捕获到.

**重构和测试的互相配合, 会驱动着你把代码写得越来越好 -> 驱动**

### 测试驱动设计

我的代码怎么写才是能测试的, 也就是说, 我们要编写具有可测试性的代码.

写一个假的类, 模拟被依赖那个类, 一般我们称为`Stub`对象. 这个假对象和原有对象应该有相同的接口, 遵循同样的契约. 从设计上讲, 这叫符合`Liskov`替换法则.

**尽量不写static方法**, `static`是全局方法. `static`是一个方便但邪恶的东西. `static`一般适合做库函数.

写代码之前, 请先想想怎么测.

### 总结 

应该编写可测的代码

## 扩展